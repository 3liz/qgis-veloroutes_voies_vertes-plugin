
<!DOCTYPE HTML>
<html>
 <head>
  <meta charset="utf-8"/>
  <title>Véloroutes et voies vertes COVADIS</title>
  <link type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/styles/github.min.css" rel="stylesheet"/>
  <link type="text/css" href="https://docs.3liz.org/remarkable.css" rel="stylesheet"/>
  <link type="image/png" href="../icon.png" rel="icon" >
 </head>
 <body>
 <header class="header-container" style="">
    <h1>Véloroutes et voies vertes COVADIS</h1>
 </header>
 <article>
<div class="toc"><span class="toctitle">Table of content</span><ul>
<li><a href="#veloroutes-et-voies-vertes-covadis">Véloroutes et voies vertes COVADIS</a><ul>
<li><a href="#configuration">Configuration</a><ul>
<li><a href="#configurer-le-plugin-veloroutes-et-voies-vertes">Configurer le plugin Véloroutes et voies vertes</a><ul>
<li><a href="#parameters">Parameters</a></li>
<li><a href="#outputs">Outputs</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#structure">Structure</a><ul>
<li><a href="#installation-de-la-structure-sur-la-base-de-donnees">Installation de la structure sur la base de données</a><ul>
<li><a href="#parameters_1">Parameters</a></li>
<li><a href="#outputs_1">Outputs</a></li>
</ul>
</li>
<li><a href="#mise-a-jour-de-la-structure-de-la-base">Mise à jour de la structure de la base</a><ul>
<li><a href="#parameters_2">Parameters</a></li>
<li><a href="#outputs_2">Outputs</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#covadis">Covadis</a><ul>
<li><a href="#export-de-tous-les-fichiers">Export de tous les fichiers</a><ul>
<li><a href="#parameters_3">Parameters</a></li>
<li><a href="#outputs_3">Outputs</a></li>
</ul>
</li>
<li><a href="#export-des-donnees">Export des données</a><ul>
<li><a href="#parameters_4">Parameters</a></li>
<li><a href="#outputs_4">Outputs</a></li>
</ul>
</li>
<li><a href="#import-des-donnees-dans-le-format-covadis">Import des données dans le format COVADIS</a><ul>
<li><a href="#parameters_5">Parameters</a></li>
<li><a href="#outputs_5">Outputs</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#donnees">Données</a><ul>
<li><a href="#chargement-des-couches-depuis-la-base">Chargement des couches depuis la base</a><ul>
<li><a href="#parameters_6">Parameters</a></li>
<li><a href="#outputs_6">Outputs</a></li>
</ul>
</li>
<li><a href="#chargement-des-styles-depuis-le-dossier-resources">Chargement des styles depuis le dossier resources</a><ul>
<li><a href="#parameters_7">Parameters</a></li>
<li><a href="#outputs_7">Outputs</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h1 id="veloroutes-et-voies-vertes-covadis">Véloroutes et voies vertes COVADIS</h1>
<h2 id="configuration">Configuration</h2>
<h3 id="configurer-le-plugin-veloroutes-et-voies-vertes">Configurer le plugin Véloroutes et voies vertes</h3>
<p>Ajoute la variable "veloroutes_connection_name" à QGIS.</p>
<p><img alt="algo_id" src="./veloroutes_vv-configure_plugin.png"></p>
<h4 id="parameters">Parameters</h4>
<table>
<thead>
<tr>
<th align="center">ID</th>
<th align="center">Description</th>
<th align="center">Type</th>
<th align="center">Info</th>
<th align="center">Required</th>
<th align="center">Advanced</th>
<th align="center">Option</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">CONNECTION_NAME</td>
<td align="center">Connexion à la base PostgreSQL</td>
<td align="center">String</td>
<td align="center">Nom de la connexion dans QGIS pour se connecter à la base de données</td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody>
</table>
<h4 id="outputs">Outputs</h4>
<table>
<thead>
<tr>
<th align="center">ID</th>
<th align="center">Description</th>
<th align="center">Type</th>
<th align="center">Info</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">OUTPUT_STATUS</td>
<td align="center">Statut de sortie</td>
<td align="center">Number</td>
<td align="center">Statut de sortie</td>
</tr>
<tr>
<td align="center">OUTPUT_STRING</td>
<td align="center">Message de sortie</td>
<td align="center">String</td>
<td align="center">Message de sortie</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="structure">Structure</h2>
<h3 id="installation-de-la-structure-sur-la-base-de-donnees">Installation de la structure sur la base de données</h3>
<p>Création de la structure de la base données. Vous pouvez aussi charger des données de tests.</p>
<p><img alt="algo_id" src="./veloroutes_vv-create_database_structure.png"></p>
<h4 id="parameters_1">Parameters</h4>
<table>
<thead>
<tr>
<th align="center">ID</th>
<th align="center">Description</th>
<th align="center">Type</th>
<th align="center">Info</th>
<th align="center">Required</th>
<th align="center">Advanced</th>
<th align="center">Option</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">CONNECTION_NAME</td>
<td align="center">Connexion PostgreSQL vers la base de données</td>
<td align="center">String</td>
<td align="center"></td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">OVERRIDE</td>
<td align="center">Écraser le schéma veloroutes ? <strong> ATTENTION </strong> Cela supprimera toutes les données !</td>
<td align="center">Boolean</td>
<td align="center"></td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">ADD_TEST_DATA</td>
<td align="center">Ajouter des données de test ?</td>
<td align="center">Boolean</td>
<td align="center"></td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody>
</table>
<h4 id="outputs_1">Outputs</h4>
<table>
<thead>
<tr>
<th align="center">ID</th>
<th align="center">Description</th>
<th align="center">Type</th>
<th align="center">Info</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">OUTPUT_STATUS</td>
<td align="center">Output status</td>
<td align="center">Number</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">OUTPUT_STRING</td>
<td align="center">Output message</td>
<td align="center">String</td>
<td align="center"></td>
</tr>
</tbody>
</table>
<hr>
<h3 id="mise-a-jour-de-la-structure-de-la-base">Mise à jour de la structure de la base</h3>
<p>Mise à jour de la base de données suite à une nouvelle version de l'extension.</p>
<p><img alt="algo_id" src="./veloroutes_vv-upgrade_database_structure.png"></p>
<h4 id="parameters_2">Parameters</h4>
<table>
<thead>
<tr>
<th align="center">ID</th>
<th align="center">Description</th>
<th align="center">Type</th>
<th align="center">Info</th>
<th align="center">Required</th>
<th align="center">Advanced</th>
<th align="center">Option</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">CONNECTION_NAME</td>
<td align="center">Connexion PostgreSQL vers la base de données</td>
<td align="center">String</td>
<td align="center"></td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">RUN_MIGRATIONS</td>
<td align="center">Cocher cette option pour lancer la mise-à-jour.</td>
<td align="center">Boolean</td>
<td align="center"></td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody>
</table>
<h4 id="outputs_2">Outputs</h4>
<table>
<thead>
<tr>
<th align="center">ID</th>
<th align="center">Description</th>
<th align="center">Type</th>
<th align="center">Info</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">OUTPUT_STATUS</td>
<td align="center">Output status</td>
<td align="center">Number</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">OUTPUT_STRING</td>
<td align="center">Output message</td>
<td align="center">String</td>
<td align="center"></td>
</tr>
</tbody>
</table>
<hr>
<h2 id="covadis">Covadis</h2>
<h3 id="export-de-tous-les-fichiers">Export de tous les fichiers</h3>
<p>Exporter tous les fichiers au format shape d'ESRI</p>
<p><img alt="algo_id" src="./veloroutes_vv-export_all_covadis.png"></p>
<h4 id="parameters_3">Parameters</h4>
<table>
<thead>
<tr>
<th align="center">ID</th>
<th align="center">Description</th>
<th align="center">Type</th>
<th align="center">Info</th>
<th align="center">Required</th>
<th align="center">Advanced</th>
<th align="center">Option</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">DATABASE</td>
<td align="center">Connexion à la base de données</td>
<td align="center">String</td>
<td align="center">Nom de la connexion dans QGIS pour se connecter à la base de données</td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">SCHEMA</td>
<td align="center">Schéma</td>
<td align="center">String</td>
<td align="center">Nom du schéma pour chercher les couches dans la base de données</td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center">Default: veloroutes <br></td>
</tr>
<tr>
<td align="center">DPT</td>
<td align="center">Département au format XXX</td>
<td align="center">String</td>
<td align="center">Pour le département de l'Ain, mettre 001</td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center">Default: 066 <br></td>
</tr>
<tr>
<td align="center">FOLDER</td>
<td align="center">Chemin de destination</td>
<td align="center">FolderDestination</td>
<td align="center">Chemin de destination pour enregistrer les exports Shapefile</td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">CHARGER</td>
<td align="center">Charger le fichier d'export dans le projet</td>
<td align="center">Boolean</td>
<td align="center">Si le traitement doit charger la couche Shapefile dans le projet</td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody>
</table>
<h4 id="outputs_3">Outputs</h4>
<table>
<thead>
<tr>
<th align="center">ID</th>
<th align="center">Description</th>
<th align="center">Type</th>
<th align="center">Info</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">FOLDER</td>
<td align="center">Chemin de destination</td>
<td align="center">Folder</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">OUTPUT</td>
<td align="center">Couches de sortie</td>
<td align="center">VectorLayer</td>
<td align="center">Les couches de l'export</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="export-des-donnees">Export des données</h3>
<p>Exporter un fichier au format shape d'ESRI</p>
<p><img alt="algo_id" src="./veloroutes_vv-export_covadis.png"></p>
<h4 id="parameters_4">Parameters</h4>
<table>
<thead>
<tr>
<th align="center">ID</th>
<th align="center">Description</th>
<th align="center">Type</th>
<th align="center">Info</th>
<th align="center">Required</th>
<th align="center">Advanced</th>
<th align="center">Option</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">DATABASE</td>
<td align="center">Connexion à la base de données</td>
<td align="center">String</td>
<td align="center">Nom de la connexion dans QGIS pour se connecter à la base de données</td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">SCHEMA</td>
<td align="center">Schéma</td>
<td align="center">String</td>
<td align="center">Nom du schéma pour chercher les couches dans la base de données</td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center">Default: veloroutes <br></td>
</tr>
<tr>
<td align="center">TABLE</td>
<td align="center">Donnée à exporter</td>
<td align="center">Enum</td>
<td align="center">Nom de la table à exporter</td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center">Values: itineraire, portion, element, segment, repere, liaison, poi_portion, poi_acces, poi_service, poi_tourisme, etat_avancement_val, revetement_val, statut_segment_val, portion_val, repere_val <br></td>
</tr>
<tr>
<td align="center">DPT</td>
<td align="center">Département au format XXX</td>
<td align="center">String</td>
<td align="center">Pour le département de l'Ain, mettre 001</td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center">Default: 066 <br></td>
</tr>
<tr>
<td align="center">FOLDER</td>
<td align="center">Chemin de destination</td>
<td align="center">FolderDestination</td>
<td align="center">Chemin de destination pour enregistrer les exports Shapefile</td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">CHARGER</td>
<td align="center">Charger le fichier d'export dans le projet</td>
<td align="center">Boolean</td>
<td align="center">Si le traitement doit charger la couche Shapefile dans le projet</td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody>
</table>
<h4 id="outputs_4">Outputs</h4>
<table>
<thead>
<tr>
<th align="center">ID</th>
<th align="center">Description</th>
<th align="center">Type</th>
<th align="center">Info</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">FOLDER</td>
<td align="center">Chemin de destination</td>
<td align="center">Folder</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">OUTPUT</td>
<td align="center">Couches de sortie</td>
<td align="center">VectorLayer</td>
<td align="center">Les couches de l'export</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="import-des-donnees-dans-le-format-covadis">Import des données dans le format COVADIS</h3>
<p>Charger les données des différentes couches</p>
<p><img alt="algo_id" src="./veloroutes_vv-import_covadis.png"></p>
<h4 id="parameters_5">Parameters</h4>
<table>
<thead>
<tr>
<th align="center">ID</th>
<th align="center">Description</th>
<th align="center">Type</th>
<th align="center">Info</th>
<th align="center">Required</th>
<th align="center">Advanced</th>
<th align="center">Option</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">DATABASE</td>
<td align="center">Connexion à la base de données</td>
<td align="center">String</td>
<td align="center">Nom de la connexion dans QGIS pour se connecter à la base de données</td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">SCHEMA</td>
<td align="center">Schéma</td>
<td align="center">String</td>
<td align="center">Nom du schéma où importer les données</td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center">Default: veloroutes <br></td>
</tr>
<tr>
<td align="center">TABLE</td>
<td align="center">Table de destination</td>
<td align="center">String</td>
<td align="center"></td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center">Default: portion <br></td>
</tr>
<tr>
<td align="center">INPUT</td>
<td align="center">Couche à importer</td>
<td align="center">VectorLayer</td>
<td align="center"></td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center">Type: TypeVector <br></td>
</tr>
<tr>
<td align="center">MATRIX</td>
<td align="center">matrix</td>
<td align="center">Matrix</td>
<td align="center"></td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center">Default: ['TYPE_PORTION_COVADIS', 'type_portion', 'MONTANT_SUBVENTION', 'mont_subv', 'ANNE_SUBVENTION', 'annee_subv', 'fid', 'id_import', 'LIEN_ITIN', 'lien_itin', 'LIEN_CYCLO', 'lien_segm'] <br></td>
</tr>
</tbody>
</table>
<h4 id="outputs_5">Outputs</h4>
<table>
<thead>
<tr>
<th align="center">ID</th>
<th align="center">Description</th>
<th align="center">Type</th>
<th align="center">Info</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">OUTPUT MSG</td>
<td align="center">Message de sortie</td>
<td align="center">String</td>
<td align="center"></td>
</tr>
</tbody>
</table>
<hr>
<h2 id="donnees">Données</h2>
<h3 id="chargement-des-couches-depuis-la-base">Chargement des couches depuis la base</h3>
<p>Charger toutes les couches de la base de données.Vous pouvez aussi ajouter un fond raster OpenSreetMap</p>
<p><img alt="algo_id" src="./veloroutes_vv-load_layers.png"></p>
<h4 id="parameters_6">Parameters</h4>
<table>
<thead>
<tr>
<th align="center">ID</th>
<th align="center">Description</th>
<th align="center">Type</th>
<th align="center">Info</th>
<th align="center">Required</th>
<th align="center">Advanced</th>
<th align="center">Option</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">DATABASE</td>
<td align="center">Connexion à la base de données</td>
<td align="center">String</td>
<td align="center">Nom de la connexion dans QGIS pour se connecter à la base de données</td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">SCHEMA</td>
<td align="center">Schéma</td>
<td align="center">String</td>
<td align="center">Nom du schéma pour chercher les couches dans la base de données</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">Default: veloroutes <br></td>
</tr>
<tr>
<td align="center">RASTER</td>
<td align="center">Ajouter un fond raster OpenStreetMap?</td>
<td align="center">Boolean</td>
<td align="center"></td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody>
</table>
<h4 id="outputs_6">Outputs</h4>
<table>
<thead>
<tr>
<th align="center">ID</th>
<th align="center">Description</th>
<th align="center">Type</th>
<th align="center">Info</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">OUTPUT</td>
<td align="center">Couches de sortie</td>
<td align="center">MultipleLayers</td>
<td align="center">Les différentes couches de l'extention véloroutes et voies vertes</td>
</tr>
<tr>
<td align="center">OUTPUT MSG</td>
<td align="center">Message de sortie</td>
<td align="center">String</td>
<td align="center">Message de sortie</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="chargement-des-styles-depuis-le-dossier-resources">Chargement des styles depuis le dossier resources</h3>
<p>Charger les styles pour les différentes couches.</p>
<p><img alt="algo_id" src="./veloroutes_vv-load_styles.png"></p>
<h4 id="parameters_7">Parameters</h4>
<table>
<thead>
<tr>
<th align="center">ID</th>
<th align="center">Description</th>
<th align="center">Type</th>
<th align="center">Info</th>
<th align="center">Required</th>
<th align="center">Advanced</th>
<th align="center">Option</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">INPUT</td>
<td align="center">Champ qui ne sert à rien !</td>
<td align="center">String</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody>
</table>
<h4 id="outputs_7">Outputs</h4>
<table>
<thead>
<tr>
<th align="center">ID</th>
<th align="center">Description</th>
<th align="center">Type</th>
<th align="center">Info</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">OUTPUT MSG</td>
<td align="center">Message de sortie</td>
<td align="center">String</td>
<td align="center">Message de sortie</td>
</tr>
</tbody>
</table>
<hr>
  </article>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/highlight.min.js">
  </script>
  <script>
   hljs.initHighlightingOnLoad();
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript">
  </script>
  <script type="text/javascript">
   MathJax.Hub.Config({"showProcessingMessages" : false,"messageStyle" : "none","tex2jax": { inlineMath: [ [ "$", "$" ] ] }});
  </script>
 </body>
</html>
